{"version":3,"sources":["webpack:///F:/saikekanglun/wecenter/main.js","webpack:///F:/saikekanglun/wecenter/pages/user/notifications.vue?196b","webpack:///F:/saikekanglun/wecenter/pages/user/notifications.vue?00c7","webpack:///F:/saikekanglun/wecenter/pages/user/notifications.vue?c74d","webpack:///F:/saikekanglun/wecenter/pages/user/notifications.vue?124d","webpack:///F:/saikekanglun/wecenter/pages/user/notifications.vue","webpack:///F:/saikekanglun/wecenter/pages/user/notifications.vue?fd1e","webpack:///F:/saikekanglun/wecenter/pages/user/notifications.vue?966a"],"names":["createPage","Page","computed","data","tabArr","flag","TabCur","isBack","reload","isLoad","isLastPage","listData","page","notifications_count","onLoad","e","onShow","console","log","intGetList","onPullDownRefresh","onReachBottom","getList","methods","toRead","idx","is_all","notification","read_flag","clickNotification","notification_id","util","errorToast","userInfo","access_token","$api","read_notification","then","res","uni","setTabBarBadge","index","text","toString","removeTabBarBadge","user_info","notification_unread","login","setTimeout","catch","err","model_type","item_id","p_user_name","toQuestion","topeople","toArticle","stopPullDownRefresh","showToast","load_notifications","list","rsm","length","concat","footerTips","toInbox","navigateTo","url","toLogin","uid","id"],"mappings":"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","file":"pages/user/notifications.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/user/notifications.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./notifications.vue?vue&type=template&id=5929636c&\"\nimport script from \"./notifications.vue?vue&type=script&lang=js&\"\nexport * from \"./notifications.vue?vue&type=script&lang=js&\"\nimport style0 from \"./notifications.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('5929636c', component.options)\n    } else {\n      api.reload('5929636c', component.options)\n    }\n    module.hot.accept(\"./notifications.vue?vue&type=template&id=5929636c&\", function () {\n      api.rerender('5929636c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"F:/saikekanglun/wecenter/pages/user/notifications.vue\"\nexport default component.exports","export * from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-hbuilderx\\\\packages\\\\webpack-uni-nvue-loader\\\\lib\\\\templateLoader.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./notifications.vue?vue&type=template&id=5929636c&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./notifications.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./notifications.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n    import {mapState,mapMutations} from 'vuex'\n\timport util from '@/utils/util.js';\t\n    export default {\n        computed: {\n            ...mapState(['hasLogin', 'userInfo','system_config'])\n        },\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\ttabArr:['我的私信','我的通知'],\n\t\t\t\tflag:'notifications',\n\t\t\t\tTabCur:0,\n\t\t\t\tisBack:false,\n\t\t\t\treload:false,\n\t\t\t\tisLoad:true,\n\t\t\t\tisLastPage:false,\n\t\t\t\tlistData:[],\n\t\t\t\tpage:-1,\n\t\t\t\tnotifications_count:0\n\t\t\t}\n\t\t},\t\t\n\t\tonLoad:function(e){\n\t\t\t// this.getList();\t\t\n\t\t},\n\t\tonShow:function(){\n\t\t\tconsole.log('onShow')\n\t\t\tthis.intGetList()\n\t\t},\n\t\t//下拉刷新\n        onPullDownRefresh:function() {\n\t\t\tthis.intGetList()\n        },\n\t\t//上拉加载\n        onReachBottom:function() {\n            this.getList();\n        },\t\t\n        methods: {\n            ...mapMutations(['login']),\n\t\t\ttoRead(idx,is_all){\n\t\t\t\tvar data = {}\n\t\t\t\tif(is_all){\n\t\t\t\t\t\n\t\t\t\t}else{\n\t\t\t\t\tif(idx > -1){\n\t\t\t\t\t\tvar notification = this.listData[idx]\n\t\t\t\t\t\tconsole.log('notification',notification)\n\t\t\t\t\t\tif(notification.read_flag == 1){\n\t\t\t\t\t\t\t//直接跳转到页面\n\t\t\t\t\t\t\tthis.clickNotification(notification)\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar notification_id = notification.notification_id\n\t\t\t\t\t\tdata.notification_id = notification_id\n\t\t\t\t\t}else{\n\t\t\t\t\t\tutil.errorToast('系统出错')\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar userInfo = this.userInfo\t\n\t\t\t\t\n\t\t\t\tdata.access_token = userInfo.access_token?userInfo.access_token:''\t\t\t\t\n\t\t\t\tthis.$api.read_notification(data).then(res => {\n\t\t\t\t\tconsole.log('read_notification',res)\n\t\t\t\t\tvar notifications_count = this.notifications_count\n\n\t\t\t\t\tif(!is_all){\n\t\t\t\t\t\t//更改页面显示\n\t\t\t\t\t\tif(this.listData[idx].read_flag == 0){\n\t\t\t\t\t\t\tthis.listData[idx].read_flag = 1\n\t\t\t\t\t\t\tif(this.notifications_count > 0){\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tnotifications_count = notifications_count -1\n\n\t\t\t\t\t\t\t\tuni.setTabBarBadge({\n\t\t\t\t\t\t\t\t  index: 2,\n\t\t\t\t\t\t\t\t  text: (notifications_count).toString()\n\t\t\t\t\t\t\t\t})\t\t\n\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\n\t\t\t\t\t}else{\n\t\t\t\t\t\tnotifications_count = 0\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(notifications_count < 1){\n\t\t\t\t\t\tuni.removeTabBarBadge({\n\t\t\t\t\t\t index: 2,\n\t\t\t\t\t\t});\t\n\t\t\t\t\t}\t\t\t\t\t\n\t\t\t\t\tthis.notifications_count = notifications_count\n\t\t\t\t\t\n\t\t\t\t\tuserInfo.user_info.notification_unread = notifications_count\n\t\t\t\t\tthis.login(userInfo)\n\t\t\t\t\t\n\t\t\t\t\t//先更新页面信息再跳转，免得返回上一页不会刷新数据\n\t\t\t\t\tif(is_all){\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.intGetList()\n\t\t\t\t\t\t}, 1200)\t\t\n\t\t\t\t\t}else{\n\t\t\t\t\t\t//跳转对应的页面\n\t\t\t\t\t\tthis.clickNotification(notification)\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}).catch(err => {\n\t\t\t\t\t// uni.stopPullDownRefresh();\n\t\t\t\t\tconsole.log('请求出错了，可以在这里做失败处理',err);\n\t\t\t\t})\t\t\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t},\n\t\t\n\t\t\tclickNotification(notification){\n\t\t\t\tconsole.log('clickNotification',notification)\n\t\t\t\tif(notification){\n\t\t\t\t\tvar model_type = notification.model_type\n\t\t\t\t\tvar item_id = notification.item_id\n\t\t\t\t\tvar p_user_name = notification.p_user_name\n\t\t\t\t\tif( item_id > 0 || p_user_name){\n\t\t\t\t\t\tswitch (model_type){\n\t\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t\tthis.toQuestion(item_id)\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\tthis.topeople(p_user_name)\n\t\t\t\t\t\t\t\tbreak;\t\t\n\t\t\t\t\t\t\t// case 7:\n\t\t\t\t\t\t\t// \tthis.toArticle(item_id)\n\t\t\t\t\t\t\t// \tbreak;\t\n\t\t\t\t\t\t\tcase 8:\n\t\t\t\t\t\t\t\tthis.toArticle(item_id)\n\t\t\t\t\t\t\t\tbreak;\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tutil.errorToast('暂不支持查看此类型的内容')\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tintGetList:function(){\n\t\t\t\tthis.reload = true;\n\t\t\t\tthis.page = -1\n\t\t\t\tthis.isLastPage = false\n\t\t\t\tthis.getList();\t\t\t\t\n\t\t\t},\n\t\t\tgetList:function(){\n\t\t\t\tvar data = {}\n\n\t\t\t\tif (this.isLastPage) { //说明已有数据，目前处于上拉加载\n\t\t\t\t\tuni.stopPullDownRefresh();\n\t\t\t\t\tthis.isLoad = true\n\t\t\t\t\tutil.showToast('没有更多内容了....')\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvar page = this.page + 1\n\t\t\t\tdata.page = page\n\t\t\t\tdata.flag = ''\n\t\t\t\tvar userInfo = this.userInfo\n\t\t\t\t\n\t\t\t\tdata.access_token = userInfo.access_token?userInfo.access_token:''\n\t\t\t\t\n\t\t\t\tthis.$api.load_notifications(data).then(res => {\n\t\t\t\t\tconsole.log('load_notifications',res)\n\t\t\t\t\tthis.page = page\n\t\t\t\t\tthis.isLoad = false\n\t\t\t\t\tvar list = res.data.rsm.list\n\t\t\t\t\tconsole.log('list',list)\n\t\t\t\t\tif(list.length > 0){\n\t\t\t\t\t\tthis.listData = this.reload ? list : this.listData.concat(list);\n\t\t\t\t\t\tthis.reload = false;\n\t\t\t\t\t\tif(list.length < 10){\n\t\t\t\t\t\t\tthis.isLoad = true\t\t\t\t\t\t\n\t\t\t\t\t\t\tthis.isLastPage = true\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(userInfo.user_info.notification_unread > 0){\n\t\t\t\t\t\t\tthis.notifications_count = userInfo.user_info.notification_unread\n\t\t\t\t\t\t\tuni.setTabBarBadge({\n\t\t\t\t\t\t\t  index: 2,\n\t\t\t\t\t\t\t  text: this.notifications_count.toString()\n\t\t\t\t\t\t\t})\t\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.isLoad = true\n\t\t\t\t\t\tthis.isLastPage = true\n\t\t\t\t\t\tif(page == 0){\n\t\t\t\t\t\t\tthis.listData = []\n\t\t\t\t\t\t\tutil.errorToast('暂无通知消息')\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(list.length < 1){\n\t\t\t\t\t\tthis.footerTips = '暂无数据'\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}).catch(err => {\n\t\t\t\t\t// uni.stopPullDownRefresh();\n\t\t\t\t\tconsole.log('请求出错了，可以在这里做失败处理',err);\n\t\t\t\t})\t\t\t\t\t\t\n\t\t\t},\n\t\t\ttoInbox(){\n                uni.navigateTo({\n                    url: '/pages/inbox/inbox',\n                });\t\n\t\t\t},\n            toLogin() {\n                uni.navigateTo({\n                    url: '/pages/account/login',\n                });\n            },\n\t\t\ttopeople(uid){\n\t\t\t\tif(!uid){\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl:'/pages/people/people?uid='+uid\n\t\t\t\t})\n\t\t\t},\n\t\t\ttoQuestion(id){\n\t\t\t\tif(!id || id < 1){\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl:'/pages/question/detail?id='+id\n\t\t\t\t})\n\t\t\t},\t\t\n\t\t\ttoArticle(id){\n\t\t\t\tif(!id || id < 1){\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl:'/pages/article/detail?id='+id\n\t\t\t\t})\n\t\t\t}\n\t\t\t\t\t\t\n        }\n    }\n","import mod from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./notifications.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./notifications.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}