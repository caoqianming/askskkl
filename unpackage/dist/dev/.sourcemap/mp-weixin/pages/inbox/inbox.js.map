{"version":3,"sources":["webpack:///F:/saikekanglun/wecenter/main.js","webpack:///F:/saikekanglun/wecenter/pages/inbox/inbox.vue?42f0","webpack:///F:/saikekanglun/wecenter/pages/inbox/inbox.vue?212d","webpack:///F:/saikekanglun/wecenter/pages/inbox/inbox.vue?3993","webpack:///F:/saikekanglun/wecenter/pages/inbox/inbox.vue?0d94","webpack:///F:/saikekanglun/wecenter/pages/inbox/inbox.vue"],"names":["createPage","Page","computed","data","tabArr","flag","TabCur","isBack","reload","isLoad","isLastPage","listData","page","notifications_count","onLoad","e","onShow","console","log","intGetList","onPullDownRefresh","onReachBottom","getList","methods","toChat","dialog_id","toBack","uni","navigateTo","url","stopPullDownRefresh","util","showToast","userInfo","access_token","$api","load_inbox","then","res","list","rsm","length","concat","user_info","notification_unread","setTabBarBadge","index","text","toString","errorToast","footerTips","catch","err","navigateBack","delta","toLogin","topeople","uid","toQuestion","id","toArticle"],"mappings":"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","file":"pages/inbox/inbox.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/inbox/inbox.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./inbox.vue?vue&type=template&id=6ae56587&\"\nimport script from \"./inbox.vue?vue&type=script&lang=js&\"\nexport * from \"./inbox.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('6ae56587', component.options)\n    } else {\n      api.reload('6ae56587', component.options)\n    }\n    module.hot.accept(\"./inbox.vue?vue&type=template&id=6ae56587&\", function () {\n      api.rerender('6ae56587', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"F:/saikekanglun/wecenter/pages/inbox/inbox.vue\"\nexport default component.exports","export * from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-hbuilderx\\\\packages\\\\webpack-uni-nvue-loader\\\\lib\\\\templateLoader.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./inbox.vue?vue&type=template&id=6ae56587&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./inbox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./inbox.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n    import {mapState,mapMutations} from 'vuex'\n\timport util from '@/utils/util.js';\t\n    export default {\n        computed: {\n            ...mapState(['hasLogin', 'userInfo','system_config'])\n        },\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\ttabArr:['我的私信','我的通知'],\n\t\t\t\tflag:'notifications',\n\t\t\t\tTabCur:0,\n\t\t\t\tisBack:false,\n\t\t\t\treload:false,\n\t\t\t\tisLoad:true,\n\t\t\t\tisLastPage:false,\n\t\t\t\tlistData:[],\n\t\t\t\tpage:0,\n\t\t\t\tnotifications_count:0\n\t\t\t}\n\t\t},\t\t\n\t\tonLoad:function(e){\n\t\t\t// this.getList();\t\t\n\t\t},\n\t\tonShow:function(){\n\t\t\tconsole.log('onShow')\n\t\t\tthis.intGetList()\n\t\t},\n\t\t//下拉刷新\n        onPullDownRefresh:function() {\n\t\t\tthis.intGetList()\n        },\n\t\t//上拉加载\n        onReachBottom:function() {\n            this.getList();\n        },\t\t\n        methods: {\n            ...mapMutations(['login']),\n\t\t\ttoChat(dialog_id){\n\t\t\t\tif(dialog_id < 1){\n\t\t\t\t\tthis.toBack()\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl:'/pages/inbox/chat?dialog_id='+dialog_id\n\t\t\t\t\t\n\t\t\t\t})\n\t\t\t},\n\t\t\tintGetList:function(){\n\t\t\t\tthis.reload = true;\n\t\t\t\tthis.page = 0\n\t\t\t\tthis.isLastPage = false\n\t\t\t\tthis.getList();\t\t\t\t\n\t\t\t},\n\t\t\tgetList:function(){\n\t\t\t\tvar data = {}\n\n\t\t\t\tif (this.isLastPage) { //说明已有数据，目前处于上拉加载\n\t\t\t\t\tuni.stopPullDownRefresh();\n\t\t\t\t\tthis.isLoad = true\n\t\t\t\t\tutil.showToast('没有更多内容了....')\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvar page = this.page + 1\n\t\t\t\tdata.page = page\n\t\t\t\tdata.flag = ''\n\t\t\t\tvar userInfo = this.userInfo\n\t\t\t\t\n\t\t\t\tdata.access_token = userInfo.access_token?userInfo.access_token:''\n\t\t\t\t\n\t\t\t\tthis.$api.load_inbox(data).then(res => {\n\t\t\t\t\tconsole.log('load_inbox',res)\n\t\t\t\t\tthis.page = page\n\t\t\t\t\tthis.isLoad = false\n\t\t\t\t\tvar list = res.data.rsm.list\n\t\t\t\t\tconsole.log('list',list)\n\t\t\t\t\tif(list.length > 0){\n\t\t\t\t\t\tthis.listData = this.reload ? list : this.listData.concat(list);\n\t\t\t\t\t\tthis.reload = false;\n\t\t\t\t\t\tif(list.length < 10){\n\t\t\t\t\t\t\tthis.isLoad = true\t\t\t\t\t\t\n\t\t\t\t\t\t\tthis.isLastPage = true\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(userInfo.user_info.notification_unread > 0){\n\t\t\t\t\t\t\tthis.notifications_count = userInfo.user_info.notification_unread\n\t\t\t\t\t\t\tuni.setTabBarBadge({\n\t\t\t\t\t\t\t  index: 2,\n\t\t\t\t\t\t\t  text: this.notifications_count.toString()\n\t\t\t\t\t\t\t})\t\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.isLoad = true\n\t\t\t\t\t\tthis.isLastPage = true\n\t\t\t\t\t\tif(page == 0){\n\t\t\t\t\t\t\tthis.listData = []\n\t\t\t\t\t\t\tutil.errorToast('暂无通知消息')\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(list.length < 1){\n\t\t\t\t\t\tthis.footerTips = '暂无数据'\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}).catch(err => {\n\t\t\t\t\t// uni.stopPullDownRefresh();\n\t\t\t\t\tconsole.log('请求出错了，可以在这里做失败处理',err);\n\t\t\t\t})\t\t\t\t\t\t\n\t\t\t},\t\t\t\t\n            toBack(){\n\t\t\t\tuni.navigateBack({\n\t\t\t\t\tdelta:1\n\t\t\t\t})\n\t\t\t},\n\t\t\ttoLogin() {\n                uni.navigateTo({\n                    url: '/pages/account/login',\n                });\n            },\n\t\t\ttopeople(uid){\n\t\t\t\tif(!uid){\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl:'/pages/people/people?uid='+uid\n\t\t\t\t})\n\t\t\t},\n\t\t\ttoQuestion(id){\n\t\t\t\tif(!id || id < 1){\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl:'/pages/question/detail?id='+id\n\t\t\t\t})\n\t\t\t},\t\t\n\t\t\ttoArticle(id){\n\t\t\t\tif(!id || id < 1){\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl:'/pages/article/detail?id='+id\n\t\t\t\t})\n\t\t\t},\t\t\t\t\t\n        }\n    }\n"],"sourceRoot":""}