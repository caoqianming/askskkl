{"version":3,"sources":["webpack:///F:/saikekanglun/wecenter/main.js","webpack:///F:/saikekanglun/wecenter/pages/inbox/chat.vue?5acb","webpack:///F:/saikekanglun/wecenter/pages/inbox/chat.vue?818c","webpack:///F:/saikekanglun/wecenter/pages/inbox/chat.vue?f4be","webpack:///F:/saikekanglun/wecenter/pages/inbox/chat.vue?4f6a","webpack:///F:/saikekanglun/wecenter/pages/inbox/chat.vue","webpack:///F:/saikekanglun/wecenter/pages/inbox/chat.vue?efbb","webpack:///F:/saikekanglun/wecenter/pages/inbox/chat.vue?5589"],"names":["createPage","Page","computed","data","InputBottom","isBack","reload","isLoad","isLastPage","listData","page","dialog_id","recipient_user","chat_username","last_message","chat_message_value","onLoad","e","username","getList","showChat","methods","formSubmit","value","detail","message","inbox_send","InputFocus","height","InputBlur","submitChat","userInfo","uid","toLogin","util","errorToast","recipient","access_token","$api","then","res","console","log","chat_message","add_time","list","concat","setTimeout","catch","err","toBack","uni","setNavigationBarTitle","title","intGetList","stopPullDownRefresh","showToast","chat_inbox","rsm","user_name","user_info","inbox_unread","login","length","footerTips","navigateBack","delta","navigateTo","url","topeople"],"mappings":"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","file":"pages/inbox/chat.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/inbox/chat.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./chat.vue?vue&type=template&id=2bed0567&\"\nimport script from \"./chat.vue?vue&type=script&lang=js&\"\nexport * from \"./chat.vue?vue&type=script&lang=js&\"\nimport style0 from \"./chat.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('2bed0567', component.options)\n    } else {\n      api.reload('2bed0567', component.options)\n    }\n    module.hot.accept(\"./chat.vue?vue&type=template&id=2bed0567&\", function () {\n      api.rerender('2bed0567', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"F:/saikekanglun/wecenter/pages/inbox/chat.vue\"\nexport default component.exports","export * from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-hbuilderx\\\\packages\\\\webpack-uni-nvue-loader\\\\lib\\\\templateLoader.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chat.vue?vue&type=template&id=2bed0567&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chat.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n    import {mapState,mapMutations} from 'vuex'\n\timport util from '@/utils/util.js';\t\n    export default {\n        computed: {\n            ...mapState(['hasLogin', 'userInfo','system_config'])\n        },\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tInputBottom:0,\n\t\t\t\tisBack:false,\n\t\t\t\treload:false,\n\t\t\t\tisLoad:true,\n\t\t\t\tisLastPage:false,\n\t\t\t\tlistData:[],\n\t\t\t\tpage:0,\n\t\t\t\tdialog_id:0,\n\t\t\t\trecipient_user:[],\n\t\t\t\tchat_username:'',\n\t\t\t\tlast_message:'',\n\t\t\t\tchat_message_value:''\n\t\t\t}\n\t\t},\t\t\n\t\tonLoad:function(e){\n\t\t\tvar dialog_id = e.dialog_id\n\t\t\tvar username = e.username\n\t\t\t\n\t\t\tif(username){\n\t\t\t\tthis.chat_username = username\n\t\t\t}\n\t\t\t\n\t\t\tif(dialog_id){\n\t\t\t\tthis.dialog_id = dialog_id\n\t\t\t}\t\t\t\n\t\t\t\n\t\t\tif(dialog_id > 0){\n\t\t\t\tthis.getList()\n\t\t\t}else if(username){\n\t\t\t\tthis.showChat()\n\t\t\t}\n\t\t\t\n\t\t},\n\t\tmethods: {\n\t\t\t...mapMutations(['login']),\n\t\t\tformSubmit(e){\n\t\t\t\tvar value = e.detail.value\n\t\t\t\tvar chat_message_value = value.message\n\t\t\t\tif(chat_message_value){\n\t\t\t\t\tthis.inbox_send(chat_message_value)\n\t\t\t\t}\n\t\t\t},\n\t\t\tInputFocus(e) {\n\t\t\t\tthis.InputBottom = e.detail.height\n\t\t\t},\n\t\t\tInputBlur(e) {\n\t\t\t\tthis.InputBottom = 0\t\n\t\t\t\t// console.log('失去焦点',e)\n\t\t\t\t// var chat_message_value = e.detail.value\n\t\t\t\t// console.log('输入框的内容',chat_message_value)\n\t\t\t\t// this.chat_message_value = chat_message_value\n\t\t\t\t\n\t\t\t},\n\t\t\tsubmitChat(e){\n\t\t\t\tvar chat_message_value = this.chat_message_value\n\t\t\t\tthis.inbox_send(chat_message_value)\n\t\t\t},\n\t\t\tinbox_send:function(message){\n\t\t\t\t// console.log('inbox_send',e)\n\t\t\t\tvar userInfo = this.userInfo\n\t\t\t\tif(!userInfo.uid || userInfo.uid < 1){\n\t\t\t\t\tthis.toLogin()\n\t\t\t\t\treturn false\n\t\t\t\t}\t\n\t\t\t\tif(!message){\n\t\t\t\t\tmessage = this.chat_message_value\n\t\t\t\t}\t\t\t\t\t\n\t\t\t\t// var message = e.detail.value.message\n\t\t\t\tif(!message || message == '' || message == 'undefined'){\n\t\t\t\t\tutil.errorToast('内容不能为空')\n\t\t\t\t\treturn false\n\t\t\t\t}\t\n\t\t\t\t\n\t\t\t\tif(this.last_message == message){\n\t\t\t\t\tutil.errorToast('请勿重复发送')\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tvar data = {}\n\t\t\t\tdata.recipient = this.chat_username\n\t\t\t\tdata.message = message\n\t\t\t\t\n\t\t\t\tdata.access_token = userInfo.access_token?userInfo.access_token:''\n\t\t\t\t\n\t\t\t\tthis.$api.inbox_send(data).then(res => {\n\t\t\t\t\tconsole.log('inbox_send',res)\n\t\t\t\t\t\n\t\t\t\t\t//把本次发送的信息，显示在聊天框中\n\t\t\t\t\tvar chat_message = {}\n\t\t\t\t\tchat_message.message = message\n\t\t\t\t\tchat_message.add_time = '刚刚'\n\t\t\t\t\tchat_message.uid = userInfo.uid\n\t\t\t\t\t\n\t\t\t\t\tvar list = this.listData.concat(chat_message);\n\t\t\t\t\tthis.listData = list\n\t\t\t\t\tconsole.log(this.listData)\n\t\t\t\t\tthis.last_message = message\n\t\t\t\t\tsetTimeout(() => { \n\t\t\t\t\t\tthis.chat_message_value = '' \n\t\t\t\t\t}, 10)\t\t\n\t\t\t\t\tthis.chat_message_value = ' ' \n\t\t\t\t\t// setTimeout(() => {\n\t\t\t\t\t// \tthis.toBack()\n\t\t\t\t\t// }, 1200)\t\t\t\t\t\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tconsole.log('请求出错了，可以在这里做失败处理',err);\n\t\t\t\t})\n\t\t\t},\n\t\t\t//从个人主页跳转过来的私信聊天\n\t\t\tshowChat:function(chat_username){\n\t\t\t\tif(!chat_username){\n\t\t\t\t\tchat_username = this.chat_username\n\t\t\t\t}\n\t\t\t\tif(chat_username == '' || !chat_username){\n\t\t\t\t\tthis.toBack()\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\tuni.setNavigationBarTitle({\n\t\t\t\t\ttitle:'给 ' + chat_username +' 发私信'\n\t\t\t\t})\n\t\t\t\t\n\t\t\t},\n\t\t\tintGetList:function(){\n\t\t\t\tthis.reload = true;\n\t\t\t\tthis.page = 0\n\t\t\t\tthis.isLastPage = false\n\t\t\t\tthis.getList();\t\t\t\t\n\t\t\t},\t\t\t\n\t\t\t//从私信页面进来的，有聊天记录\n\t\t\tgetList:function(dialog_id){\n\t\t\t\t\n\t\t\t\tif(!dialog_id){\n\t\t\t\t\tdialog_id = this.dialog_id\n\t\t\t\t}\n\t\t\t\tif(dialog_id < 1){\n\t\t\t\t\tthis.toBack()\n\t\t\t\t\treturn false\n\t\t\t\t}\t\t\t\t\n\t\t\t\tvar data = {}\n\n\t\t\t\tif (this.isLastPage) { //说明已有数据，目前处于上拉加载\n\t\t\t\t\tuni.stopPullDownRefresh();\n\t\t\t\t\tthis.isLoad = true\n\t\t\t\t\tutil.showToast('没有更多内容了....')\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvar page = this.page + 1\n\t\t\t\tdata.page = page\n\t\t\t\t\n\t\t\t\tdata.dialog_id = dialog_id\n\t\t\t\tvar userInfo = this.userInfo\n\t\t\t\t\n\t\t\t\tdata.access_token = userInfo.access_token?userInfo.access_token:''\n\t\t\t\t\n\t\t\t\tthis.$api.chat_inbox(data).then(res => {\n\t\t\t\t\tconsole.log('chat_inbox',res)\n\t\t\t\t\tvar recipient_user = res.data.rsm.recipient_user\n\t\t\t\t\tif(recipient_user){\n\t\t\t\t\t\tuni.setNavigationBarTitle({\n\t\t\t\t\t\t\ttitle:'来自 '+recipient_user.user_name+' 的私信'\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.recipient_user = recipient_user\n\t\t\t\t\t\tthis.chat_username = recipient_user.user_name\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(page == 1){\n\t\t\t\t\t\tuserInfo.user_info.inbox_unread = 0\n\t\t\t\t\t\tthis.login(userInfo)\n\t\t\t\t\t}\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\tthis.page = page\n\t\t\t\t\tthis.isLoad = false\n\t\t\t\t\tvar list = res.data.rsm.list\n\t\t\t\t\t\n\t\t\t\t\tconsole.log('list',list)\n\t\t\t\t\tif(list.length > 0){\n\t\t\t\t\t\tthis.listData = this.reload ? list : this.listData.concat(list);\n\t\t\t\t\t\tthis.reload = false;\n\t\t\t\t\t\tif(list.length < 10){\n\t\t\t\t\t\t\tthis.isLoad = true\t\t\t\t\t\t\n\t\t\t\t\t\t\tthis.isLastPage = true\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.isLoad = true\n\t\t\t\t\t\tthis.isLastPage = true\n\t\t\t\t\t\tif(page == 1){\n\t\t\t\t\t\t\tthis.listData = []\n\t\t\t\t\t\t\tutil.errorToast('暂无私信内容')\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(list.length < 1){\n\t\t\t\t\t\tthis.footerTips = '暂无数据'\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t}).catch(err => {\n\t\t\t\t\t// uni.stopPullDownRefresh();\n\t\t\t\t\tconsole.log('请求出错了，可以在这里做失败处理',err);\n\t\t\t\t})\t\t\t\t\t\t\n\t\t\t},\t\n            toBack(){\n\t\t\t\tuni.navigateBack({\n\t\t\t\t\tdelta:1\n\t\t\t\t})\n\t\t\t},\n\t\t\ttoLogin() {\n                uni.navigateTo({\n                    url: '/pages/account/login',\n                });\n            },\n\t\t\ttopeople(uid){\n\t\t\t\tif(!uid){\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl:'/pages/people/people?uid='+uid\n\t\t\t\t})\n\t\t\t},\t\t\t\t\t\t\n\t\t}\n\t}\n","import mod from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chat.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chat.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}