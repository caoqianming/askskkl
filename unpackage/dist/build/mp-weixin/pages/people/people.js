(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/people/people"],{"0019":function(t,e,o){"use strict";o.r(e);var n=o("a349"),a=o("533f");for(var s in a)"default"!==s&&function(t){o.d(e,t,function(){return a[t]})}(s);o("bb4b");var i=o("2877"),r=Object(i["a"])(a["default"],n["a"],n["b"],!1,null,null,null);e["default"]=r.exports},4840:function(t,e,o){"use strict";(function(t){o("ee7b"),o("921b");n(o("66fd"));var e=n(o("0019"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("543d")["createPage"])},"533f":function(t,e,o){"use strict";o.r(e);var n=o("64ae"),a=o.n(n);for(var s in n)"default"!==s&&function(t){o.d(e,t,function(){return n[t]})}(s);e["default"]=a.a},"64ae":function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o("2f62"),a=s(o("2e85"));function s(t){return t&&t.__esModule?t:{default:t}}function i(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),n.forEach(function(e){r(t,e,o[e])})}return t}function r(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var u={data:function(){return{TabArr:["参与","提问","文章","关注","资料"],TabCur:0,scrollLeft:0,uid:"",user:[],user_follow_check:!1,user_actions_questions:[],reputation_topics:[],fans_list:[],friends_list:[],focus_topics:[],user_actions_answers:[],user_actions_articles:[],user_actions_questions_count:0,user_actions_answers_count:0,user_actions_articles_count:0}},computed:i({},(0,n.mapState)(["hasLogin","userInfo","system_config"])),onLoad:function(t){var e=t.uid;this.uid=e,this.getPeople()},onShareAppMessage:function(t){"button"===t.from&&console.log(t.target);var e=this.user.user_name;return{title:e+"的个人主页"}},methods:i({},(0,n.mapMutations)(["login"]),{toSetting:function(){t.navigateTo({url:"/pages/user/setting"})},toChat:function(e){if(!e||""==e)return a.default.errorToast("系统出错"),!1;t.navigateTo({url:"../inbox/chat?username="+e})},follow_people:function(){var t=this;if(this.uid<1)return a.default.errorToast("系统出错"),!1;var e=this.userInfo;(!e.uid||e.uid<1||!this.hasLogin)&&this.toLogin();var o=[];o.access_token=e.access_token?e.access_token:"",o.uid=this.uid,this.$api.follow_people(o).then(function(e){console.log("follow_people",e);var o=e.data.rsm.type;if(!o)return a.default.errorToast("关注失败"),!1;t.user_follow_check="add"==o}).catch(function(t){console.log("请求出错了，可以在这里做失败处理",t)})},tabSelect:function(t){this.TabCur=t.currentTarget.dataset.id,this.scrollLeft=60*(t.currentTarget.dataset.id-1)},toLogin:function(){t.navigateTo({url:"/pages/account/login"})},toMyAnswer:function(e){if(e<1)return this.toLogin(),!1;t.navigateTo({url:"/pages/user/question?uid="+e+"&tab=1"})},toMyQuestion:function(e){if(e<1)return this.toLogin(),!1;t.navigateTo({url:"/pages/user/question?uid="+e})},toMyArticle:function(e){if(e<1)return this.toLogin(),!1;t.navigateTo({url:"/pages/user/article?uid="+e})},toMyFollows:function(e,o){if(e<1)return this.toLogin(),!1;o||(o=0),t.navigateTo({url:"/pages/user/follows?uid="+e+"&tab="+o})},topeople:function(e){e>0&&t.navigateTo({url:"/pages/people/people?uid="+e})},totopicDetail:function(e){e>0?t.navigateTo({url:"/pages/topic/detail?topic_id="+e}):a.default.showToast("话题id有误")},toArticleDetail:function(e){var o=e.currentTarget.dataset.id;o>0?t.navigateTo({url:"../article/detail?id="+o}):a.default.showToast("id有误")},toQuestionDetail:function(e){var o=e.currentTarget.dataset.id;o>0?t.navigateTo({url:"../question/detail?id="+o}):a.default.showToast("id有误")},getPeople:function(){var e=this,o=this.uid;if(o){var n=this.userInfo,s=[];s.uid=o,s.access_token=n.access_token?n.access_token:"",this.$api.getPeople(s).then(function(o){console.log("getPeople",o);var n=o.data.rsm.user;if(!n||!n.user_name)return a.default.errorToast("用户资料出错"),!1;t.setNavigationBarTitle({title:n.user_name+"的主页"}),e.user=n,e.user_follow_check=o.data.rsm.user_follow_check,e.user_actions_questions=o.data.rsm.user_actions_questions,e.reputation_topics=o.data.rsm.reputation_topics,e.fans_list=o.data.rsm.fans_list,e.friends_list=o.data.rsm.friends_list,e.focus_topics=o.data.rsm.focus_topics,e.user_actions_answers=o.data.rsm.user_actions_answers,e.user_actions_articles=o.data.rsm.user_actions_articles,e.user_actions_questions_count=o.data.rsm.user_actions_questions_count,e.user_actions_answers_count=o.data.rsm.user_actions_answers_count,e.user_actions_articles_count=o.data.rsm.user_actions_articles_count}).catch(function(t){console.log("请求失败，可以在这里写处理代码",t)})}else console.log("ID有误",o),a.default.errorToast("ID有误"),t.navigateBack({delta:1})}})};e.default=u}).call(this,o("543d")["default"])},a349:function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c},a=[];o.d(e,"a",function(){return n}),o.d(e,"b",function(){return a})},b099:function(t,e,o){},bb4b:function(t,e,o){"use strict";var n=o("b099"),a=o.n(n);a.a}},[["4840","common/runtime","common/vendor"]]]);